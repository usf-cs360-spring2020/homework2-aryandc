<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">

    <!-- TODO: Change title -->
    <title>Website Template</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>

  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <!-- TODO: Change title -->
        <h1 class="title">Homework 2</h1>
        <!-- TODO: Change subtitle -->
        <h2 class="subtitle">Mobility Report Cards: The Role of Colleges in Intergenerational Mobility</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item is-active" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="#data" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>

          <a class="navbar-item" href="#visualizations" title="Visualization">
            <span class="icon"><img src="https://img.icons8.com/android/24/000000/scatter-plot.png" style="width: 15px;"></span>
            <span>Visualization</span>
          </a>

        </div>

        <!-- Right navbar items -->
        <div class="navbar-end">
          <!-- TODO: Update as needed -->
          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-tasks"></i></span>
            <span>Grade</span>
          </a>

          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>About</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">
      <!-- Begin page content -->
      <div class="content">
        <h1 class="title">
          <!-- TODO: Change page title -->
          Baseline Cross-Sectional Estimates of Child and Parent Income Distributions by College
        </h1>
        <p class="subtitle">
          <!-- TODO: Change page subtitle -->
          Introduction
        </p>

        <p>This assignment visualizes the intergenerational income mobility at each college in the United States using data for over 30 million college students from 1999-2013. This visualization uses publicly available dataset available in <a href="https://opportunityinsights.org/data/" target="_blank">Opportunity insights</a>.</p>

        <h2 id="data">Data</h2>

        <p> The dataset reports baseline estimates of parent's and childern's income distribution based on college. The college values are calculated as means over students in 1980, 1981, and 1982 birth cohorts. If data for a college from any of these cohorts is incomplete, we use data from 1983, and 1984 cohorts to get an estimate.</p>

        <p>Some cases have multiple colleges share a single identifier in the tax records (e.g. the campuses of University of Massachusetts or University of Illinois systems). In these cases, we report average of all students attending the relevant group of colleges. For, these groups, we assign location based on the location of the largest school/campus within the group of colleges. </p>
       
        <p class="is-size-7 has-text-grey">-(Source: <a href="https://opportunityinsights.org/paper/mobilityreportcards/" target="_blank">https://opportunityinsights.org/paper/mobilityreportcards/</a>)</p>

        <p>
          The data is collected from the <a href="https://opportunityinsights.org/paper/mobilityreportcards/" target="_blank">"Mobility Report Cards: The Role of Colleges in Intergenerational Mobility"</a> project from <a href="https://opportunityinsights.org/" target="_blank">Opportunity Insights</a>.</p>
        
        <p>The exact dataset is the “Baseline Cross-Sectional Estimates of Child and Parent Income Distributions by College” dataset (also referred to as “Online Data Table 2”). The dataset can be found <a href="https://opportunityinsights.org/wp-content/uploads/2018/04/mrc_table2.csv" target="_blank">here</a>.</p>

        <blockquote>
          <p>
            "This data is made publicly available under the Opportunity Insights whose full text can be found at: <a href="https://opportunityinsights.org/data">https://opportunityinsights.org/data</a>"
          </p>
          <cite>Data acquired from <a href="https://opportunityinsights.org/data" target="_blank">https://opportunityinsights.org/data</a> on February 21 2020. Aggregated data on this page is made publicly available under <a href="https://opportunityinsights.org/data/" target="_blank">Opportunity insights</a>.</cite>
        </blockquote>

        <p>Information about the data elements are given below:</p>

        <ol>
          <li><strong>super_opeid:</strong> Institution OPEID / Cluster ID when combining multiple OPEIDs:
          <ul>
            <li>-99 = late goers (attended college between 23-28)</li>
            <li>-9 = Never attended college (up to and including year 2013)</li>
            <li>-1 = attending a college with insufficient data (less than 100 students on average or incomplete data)</li>
            <li>>0 = specific colleges</li>
          </ul>
        </li>

          <li><strong>name:</strong> Name of college (or college group)</li>

          <li><strong>type:</strong> Type:
            <ul>
              <li>1 = public</li>
              <li>2 = private non-profit</li>
              <li>3 = for-profit</li>
            </ul>
          </li>

          <li><strong>tier:</strong> Selectivity and type combination:
            <ul>
              <li>1 = Ivy Plus</li>
              <li>2 = Other elite schools (public and private)</li>
              <li>3 = Highly selective public</li>
              <li>4 = Highly selective private</li>
              <li>5 = Selective public</li>
              <li>6 = Selective private</li>
              <li>7 = Nonselective 4-year public</li>
              <li>8 = Nonselective 4-year private not-for-profit</li>
              <li>9 = Two-year (public and private not-for-profit)</li>
              <li>10 = Four-year for-profit</li>
              <li>11 = Two-year for-profit</li>
              <li>12 = Less than two year schools of any type</li>
              <li>13 = Attending college with insufficient data</li>
              <li>14 = Not in college between the ages of 19-22</li>
            </ul>
          </li>

          <li><strong>tier_name:</strong> Name of college tier</li>

          <li><strong>iclevel:</strong> Four-year ot two-year college:
            <ul>
              <li>1 = Four-year</li>
              <li>2 = Two-year</li>
              <li>3 = Less than Two-year</li>
            </ul>
          </li>

          <li><strong>region:</strong> Census region:
            <ul>
              <li>1 = Northeast</li>
              <li>2 = Midwest</li>
              <li>3 = South</li>
              <li>4 = West</li>
            </ul>
          </li>

          <li><strong>state:</strong> State</li>

          <li><strong>cz:</strong> Community zone ID</li>

          <li><strong>czname:</strong> Community zone name</li>

          <li><strong>cfips:</strong> Combined state and county fips code</li>

          <li><strong>county:</strong> County</li>

          <li><strong>multi:</strong> Indicator that equals 1 if multiple colleges (IPEDS Unit IDs) are grouped in this Super OPEID</li>

          <li><strong>count:</strong> Average number of kids per cohort</li>

          <li><strong>female:</strong> Fraction female among kids</li>

          <li><strong>k_married:</strong> Fraction of kids married in 2014</li>

          <li><strong>mr_kq5_pq1:</strong> Mobility rate (joint probability of parents in bottom quintile and child in top quintile of the income distribution)</li>

          <li><strong>mr_ktop1_pq1:</strong> Upper-tail mobility rate (joint probability of parents in bottom quintile and chile in toop 1% of the income distribution)</li>

          <li><strong>par_mean:</strong> Mean parental income</li>

          <li><strong>par_median:</strong> Median parent household income (rounded to nearest $100)</li>

          <li><strong>par_rank:</strong> Mean parental income rank</li>

          <li><strong>par_q[PARQUINT]:</strong> Fraction of parent in an income quintile [PARQUINT]. 1 is the bottom quntile and 5 is the top</li>

          <li><strong>par_top[PCTILE]pc:</strong> Fraction of parents in the top percentile [PCTILE]. For instance, par_toppt1pc refers to parents in the top 0.1% of the income distribution</li>

          <li><strong>k_rank:</strong> Mean kid earnings rank</li>

          <li><strong>k_mean:</strong> Mean kid earnings</li>

          <li><strong>k_median:</strong> Median child individual earnings in 2014 (rounded to the nearest $100)</li>

          <li><strong>k_median_nonzero:</strong> Median child individual earnings among positive earners in 2014 (rounded to the nearest $100)</li>

          <li><strong>k_0inc:</strong> Fraction of kids with zero labor earnings</li>

          <li><strong>k_q[KIDQUINT]:</strong> FFraction of kids in an income quintile [KIDQUINT]. 1 is the bottom quintile and 5 is the top</li>

          <li><strong>k_top[PCTILE]pc:</strong> Fraction of kids in the top percentile [PCTILE]. For instance, top1pc refers to childern in the top 1% of the income distribution.</li>

          <li><strong>k_rank_cond_parq[PARQUINT]:</strong> Mean kid earnings rank conditional on parent in quintile [PARQUINT]</li>

          <li><strong>kq[KIDQUINT]_cond_parq[PARQUINT]:</strong> Probability of kid in quintile [KIDQUINT] conditional on parent in quintile [PARQUINT]</li>

          <li><strong>ktop1pc_cond_parq[PARQUINT]:</strong> ] Probability of kid in top 1% conditional on parent in quintile [PARQUINT]</li>

          <li><strong>k_married_cond_parq[PARQUINT]:</strong> Fraction of kids married conditional on parent in quintile [PARQUINT]</li>

          <li><strong>shareimputed:</strong> Share of count-weighted data that was imputed using information from the 1983-84 cohorts</li>

          <li><strong>imputed:</strong> Indicator if any data for that super_opeid was imputed</li>
        </ol>

        <h3 id="wrangling">Wrangling</h3>

        <p>The data is filtered based on "state" as "CA".  Grouping is done on the data by name (university name) and aggregated by count (average number of students per cohort), mr_kq5_pq1 (mobility rate), par_mean (Mean parental Income), and k_mean (Mean kid Income). 

        <pre style="font-size: 14px; font-family: Dank Mono Regular;">
Filtered By: state = "CA"
Grouping By: name
Aggregated By: count (Average no. of kids per cohort) as average
               par_mean (Mean parental Income) as average
               k_mean (Mean kid Income) as average
               mr_kq5_pq1 (Mobility rate) as average
        </pre>

        <h2 id="visualizations">Visualization</h2>

        <div id="vis">
          <img src="ScatterPlotMatrix.png" alt="scatter plot matrix" width="960" height="500">
        </div>
    
        <br/>
        <p>The D3 v5 version of the above prototype is given below:</p>

        <section class="section">
          <div class="container content">
            <h5>Comparison of Parent and Child's Income across Universities in California</h5>
      
            <svg id="bubble"></svg>
      
              <p class="is-size-7 has-text-grey">
                  Source:  <a href="https://opportunityinsights.org/paper/mobilityreportcards/" target="_blank">https://opportunityinsights.org/paper/mobilityreportcards</a>
                  <br>
                  Created by - Aryan Dilip Choudhary  
            </p>
          </div>
        </section>

        <script src="https://d3js.org/d3.v5.min.js"></script>

       <!-- include d3-legend: https://d3-legend.susielu.com/ -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js" integrity="sha256-qo76Vs9B6JAALbrTn+PcN1r09hbNLd2M78V19glOMeU=" crossorigin="anonymous"></script>

      <!-- craft visualization -->
      <script src="scatterplotmatrix.js"></script>

        <h4>Instruction</h4>

        <p>A scatter plot matrix is a grid/matrix of scatter plots used to visualize relationships between combinations of variables. Each scatter plot in the matrix visualizes the relationship between a pair of variables.</p>

        <p>
          A scatter plot matrix is interpreted by looking for trends in the data as you go from left to right. If the data shows an uphill trend, it indicates a positive relationship between variables. As the value of one variable increases, the value of other variable tend to increase.
        </p>

        <h4>Conclusion</h4>

        <p>From the visualizations, it can be determined that:

            <ul>
              <li></li>
            </ul>

        </p>

        <span class="heading">Acknowledgements</span>

        <p style="font-family: 'Dank Mono Regular'; font-size: 14px; color: cornflowerblue;">
          <a href="https://bl.ocks.org/vdng/63af6a25994a52ad6635c66ef66e3931" target="_blank">Scatter Plot Matrix for the Iris Dataset</a><br/>
          <a href="https://bl.ocks.org/Fil/6d9de24b31cb870fed2e6178a120b17d" target="_blank">Scatter Plot Matrix Brushing</a>
        </p>

        <p class="is-6">
          <em>Thanks to Sophie Engle for their suggestion to do something with the visualization.</em>
        </p>

        <h2 id="grade">Grade</h2>

        <!-- TODO: Remove custom style if no longer needed -->
        <style>
          table.grades tbody tr td:nth-child(1),
          table.grades tbody tr td:nth-child(2) {
            text-align: center;
          }
        </style>

        <!-- TODO: Change or remove table -->
        <!-- https://bulma.io/documentation/elements/table/ -->
        <table class="table is-hoverable is-bordered grades">
          <thead>
            <tr>
              <th>Letter</th>
              <th>Done?</th>
              <th>Description</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>A</td>
              <td><i class="has-text-success fas fa-check-circle"></i></td>
              <td>I have satisfied this grade requirement by successfully completing below requirements:

                <ul>
                  <li>Implemented the scatter plot matrix in Tableau and D3 version 5.</li>
                  <li>Matched as much of the design as possible from my Tableau prototype along with caption and titles.</li>
                </ul>
              </td>
            </tr>
          </tbody>

        </table>

        <h2 id="about">About</h2>

        <!-- Profile box -->
        <!-- https://bulma.io/documentation/layout/media-object/ -->
        <article class="media">
          <!-- TODO: Replace with profile photo -->
          <figure class="media-left">
            <p class="image is-128x128"><img class="is-rounded" src="profile.png"></p>
          </figure>

          <div class="media-content">
            <div class="content">
              <!-- TODO: Replace with contact information -->
              <p>
                <strong>Aryan Dilip Choudhary</strong><br/>
                MS in Computer science, <a href="https://www.usfca.edu/" target="_blank">University of San Francisco</a><br/>
                <em>Expected Graduation: 2022</em><br/>
                <i class="fas fa-envelope"></i> <a href="mailto:adchoudhary@dons.usfca.edu">adchoudhary@dons.usfca.edu</a>
              </p>

              <!-- TODO: Replace with brief biography -->
              <p>
                First year Ms CS student at University of San Francisco. Former Research scholar at <a href="https://www.upc.edu/en" target="_blank">Universidad Polytecnia de Catalunya, Barcelona</a>.
              </p>
              <p>I completed my Bachelors in "Mechanical Engineering" with specialization in "Industrial Management" from <a href="https://www.iitbhu.ac.in/" target="_blank">Indian Institute of Technology (BHU), Varanasi</a>.</p>


              <!-- TODO: Replace or remove tags -->
              <!-- https://bulma.io/documentation/elements/tag/ -->
              <div class="heading">Skills</div>

              <div class="tags">
                <span class="tag">C</span>
                <span class="tag">C++</span>
                <span class="tag">Java</span>
                <span class="tag">JavaScript</span>
                <span class="tag">HTML</span>
                <span class="tag">CSS</span>
                <span class="tag">SVG</span>
                <span class="tag">R</span>
                <span class="tag">MATLAB Programming</span>
              </div>
            </div>
          </div>
        </article>
        <!-- End profile box -->

      </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <!-- TODO: Change to link to your Github repository -->
        <a href="https://github.com/usf-cs360-spring2020/template-bulma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
